@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using Core.Common.Enums
@using Infrastructure.Extensions
@using System.ComponentModel.DataAnnotations
@model Presentation.Pages.Account.RegisterModel
@{
    ViewData["Title"] = "Booking";
}

@section Styles{
    <link rel="stylesheet" type="text/css" href="~/css/dd.css"/>
    <script src="~/js/dd.js"></script>
    <link href="@Url.Content("~/css/Register.css")" rel="stylesheet" type="text/css"/>
}

<form enctype="multipart/form-data" method="post">
    <div class="container">
        <h1>Register</h1>
        <p>Please fill in this form to create an account.</p>
        <hr>

        <label for="email">
            <b>Email</b>
        </label>
        <input type="text" placeholder="Enter Email" required asp-for="Model.Email">
        <span class="text-danger" asp-validation-for="Model.Email"></span>

        <br/>
        <label for="name">
            <b>Name</b>
        </label>
        <input type="text" placeholder="Enter Name" required asp-for="Model.Name">
        <span class="text-danger" asp-validation-for="Model.Name"></span>

        <br/>
        <label for="surname">
            <b>Surname</b>
        </label>
        <input type="text" placeholder="Enter Surname" required asp-for="Model.Surname">
        <span class="text-danger" asp-validation-for="Model.Surname"></span>

        <br/>
        <label for="phone">
            <b>Phone</b>
        </label>
        <input type="text" placeholder="Enter Phone" required asp-for="Model.Phone">
        <span class="text-danger" asp-validation-for="Model.Phone"></span>

        <br/>
        <label for="username">
            <b>Username</b>
        </label>
        <input type="text" placeholder="Enter Username" required asp-for="Model.Username">
        <span class="text-danger" asp-validation-for="Model.Username"></span>

        <br/>
        <label for="password">
            <b>Password</b>
        </label>
        <input type="password" placeholder="Enter Password" required asp-for="Model.Password">
        <span class="text-danger" asp-validation-for="Model.Password"></span>
        @if (Model.Model.PasswordsMatch == false)
        {
            <br/>
        }
        <span class="text-danger" asp-validation-for="Model.PasswordsMatch"></span>

        <br/>
        <label for="repeatedpassword">
            <b>Confirm Password</b>
        </label>
        <input type="password" placeholder="Confirm Password" required asp-for="Model.RepeatedPassword">
        <span class="text-danger" asp-validation-for="Model.RepeatedPassword"></span>
        @if (Model.Model.PasswordsMatch == false)
        {
            <br/>
        }
        <span class="text-danger" asp-validation-for="Model.PasswordsMatch"></span>

        <br/>
        <label for="Gender">
            <b>Gender</b>
        </label>
        <select
            asp-for="Model.Gender"
            style="width: 100%"
            is="ms-dropdown"
            placeholder="Select Gender"
            data-child-height="160">
            @foreach (var gender in Enum.GetValues(typeof(Gender)))
            {
                var img = gender.DescriptionAttr();
                var display = gender.DisplayAttr();
                if(display == "None")
                {
                    <option value=@gender>@display</option>
                }
                else
                {
                    <option data-image=@img value=@gender>@display</option>
                }
            }
        </select>
        <span asp-validation-for="Model.Gender" class="text-danger"></span>

        <br/>
        <label for="Photo">
            <b>Photo</b>
        </label>
        <input class="form-control" style="border-radius: 0;"type="file" asp-for="Model.Picture"/>
        <span asp-validation-for="Model.Picture" class="text-danger"></span>

        <hr>
        <p>By creating an account you agree to our <a asp-page="../Utils/TermsAndServices">Terms & Privacy</a>.</p>

        <button class="registerbtn" type="submit">Register</button>
    </div>

    <div class="container">
        <div class="signin">
            <p>Already have an account? <a asp-page="Login">Sign in</a>.</p>
        </div>
    </div>
</form>